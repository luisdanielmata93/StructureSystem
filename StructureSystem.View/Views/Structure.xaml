<UserControl x:Class="StructureSystem.View.Views.Structure"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:StructureSystem.View.Views"
              xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
            xmlns:Icons="http://metro.mahapps.com/winfx/xaml/iconpacks"
            xmlns:simpleChildWindow="clr-namespace:MahApps.Metro.SimpleChildWindow;assembly=MahApps.Metro.SimpleChildWindow"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
             >
    <Grid>
        <Grid.ColumnDefinitions >
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition  />
        </Grid.RowDefinitions>
        <Controls:MetroTabControl Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="5">
            <Controls:MetroTabItem Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="5" Header="Definición de estructura">
                <Grid Margin="10 -30 0 0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="150"/>
                        <RowDefinition />
                    </Grid.RowDefinitions>

                    <Button Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="1" Height="30" Content="Insertar muros" Click="Button_Click" />
                    <Button Grid.Row="0" Grid.Column="1" Width="100" Height="30" Content="Actualizar" Command="{Binding UpdateCommand}"/>



                    <DataGrid CanUserAddRows="False" FontSize="17" Grid.Row="1" Grid.ColumnSpan="5" x:Name="WallData" VerticalAlignment="Top" ItemsSource="{Binding Path=Storeys ,Mode=TwoWay}"  AutoGenerateColumns="False" CanUserResizeColumns="True">
                        <DataGrid.Columns>
                            <DataGridTemplateColumn Width="250" IsReadOnly="True" Header="NIVELES DE LA ESTRUCTURA">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Grid HorizontalAlignment="Center">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="60" />
                                                <ColumnDefinition Width="10"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="NIVEL"/>
                                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding StoreyNumber }" TextAlignment="Left" />
                                        </Grid>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                        <DataGrid.RowDetailsTemplate>
                            <DataTemplate>
                                <Border BorderThickness="2,2,2,2" Background="MediumPurple" BorderBrush="Black" >
                                    <StackPanel>
                                        <TextBlock Text="INFORMACIÓN DE MUROS HORIZONTALES"/>
                                        <ListView ItemsSource="{Binding HorizontalWalls, Mode=TwoWay}" SelectionMode="Single" IsSynchronizedWithCurrentItem="True" Style="{StaticResource StyleListView}">
                                            <ListView.View>
                                                <GridView>
                                                    <GridViewColumn Header="Muro" DisplayMemberBinding="{Binding WallNumber}" />
                                                    <GridViewColumn Header="Material"  DisplayMemberBinding="{Binding Material}" />
                                                    <GridViewColumn Header="Longitud(m)"  DisplayMemberBinding="{Binding Length}" />
                                                    <GridViewColumn Header="Area tributaria(m2)"  DisplayMemberBinding="{Binding TributaryArea}" />
                                                    <GridViewColumn Header="Espesor(m)"  DisplayMemberBinding="{Binding Thickness}" />
                                                    <GridViewColumn Header="Altura(m)"  DisplayMemberBinding="{Binding Height}" />
                                                    <GridViewColumn Header="Cordenadas X(m)"  DisplayMemberBinding="{Binding PositionX}" />
                                                    <GridViewColumn Header="Cordenadas Y(m)"  DisplayMemberBinding="{Binding PositionY}" />
                                                </GridView>
                                            </ListView.View>
                                        </ListView>
                                        <TextBlock Text="INFORMACIÓN DE MUROS VERTICALES"/>
                                        <ListView ItemsSource="{Binding VerticalWalls, Mode=TwoWay}" SelectionMode="Single" IsSynchronizedWithCurrentItem="True" Style="{StaticResource StyleListView}">
                                            <ListView.View>
                                                <GridView>
                                                    <GridViewColumn Header="Muro" DisplayMemberBinding="{Binding WallNumber}" />
                                                    <GridViewColumn Header="Material"  DisplayMemberBinding="{Binding Material}" />
                                                    <GridViewColumn Header="Longitud(m)"  DisplayMemberBinding="{Binding Length}" />
                                                    <GridViewColumn Header="Area tributaria(m2)"  DisplayMemberBinding="{Binding TributaryArea}" />
                                                    <GridViewColumn Header="Espesor(m)"  DisplayMemberBinding="{Binding Thickness}" />
                                                    <GridViewColumn Header="Altura(m)"  DisplayMemberBinding="{Binding Height}" />
                                                    <GridViewColumn Header="Cordenadas X(m)"  DisplayMemberBinding="{Binding PositionX}" />
                                                    <GridViewColumn Header="Cordenadas Y(m)"  DisplayMemberBinding="{Binding PositionY}" />
                                                </GridView>
                                            </ListView.View>
                                        </ListView>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </DataGrid.RowDetailsTemplate>
                    </DataGrid>
                </Grid>
            </Controls:MetroTabItem>
        </Controls:MetroTabControl>
    </Grid>

</UserControl>
